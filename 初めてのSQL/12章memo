12章 トランザクション

マルチユーザデータベース
データベース管理システムでは1人のユーザがクエリを実行したりデータを変更したりできる。
最近では数千人もの人々が同時にデータベースに変更を食われることがある。
・ロック
ロックはデータリソースの同時使用を制御するためにデータベースサーバが使うメカニズム。

トランザクションとは何か
データベースサーバのアップタイムが100%でユーザが常にプログラムを最後まで問題なく実行でき
全てが正常に終わるのであればデータベースに対する同時アクセスに関する議論は必要ない。
同時アクセスパズルの1つのピースはトランザクション。
トランザクションは複数のSQL文を1つにまとめてそれらの文をすべて成功させるかすべて失敗するかの仕組み。
・トランザクションのセーブポイント
ロールバックを行う場合、全てをもとに戻されると困るという場合にはトランザクション内にセーブポイントを1つ以上設定すること。