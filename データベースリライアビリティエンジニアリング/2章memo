2章 サービスレベルマネジメント

・SLOの必要性
サービスがどういった環境で運用されるか＝SLA
SLO＝設計及び運用に関して遵守すべきことがらをまとめたもの
SLOを定義すること、適用することは非常に難しい
→関連するものが多すぎるのと自身のサービス以外のものが関連するものが多いため

・SLOの指標
　サービスがあるべき姿を定義するために最低1つは指定されるもの。
　指定される項目の例としては以下
　レイテンシ
　可用性
　スループット
　耐久性
　費用対効果

・サービス目標の定義
　定義するものは3つ程度が妥当。それ以上は何が重要なのかが理解できていない。
　レイテンシ指標
　可用性の指標
　スループットの指標
　費用対効果の指標

・SLOに基づいた監視とレポート
SLOの定義が終わったら次は測定と監視。
各指標を監視する上で重要なのはSLOを遵守することではなく
達成を妨げる潜在的なリスクと洗い出し発生した場合に影響を最小限に抑えられる対応策を講じること
監視において収集と分析は自動化すること。
　可用性の監視
　ユーザからのリクエストに対するエラー発生率に着目すること
　→昔ながらのやり方だと難しい
　ログから収集した生データは即時使えるものではなく累積したうえで利用できるようになるもの。
　レイテンシの監視
　レイテンシの監視はエラー発生率の監視とよく似ている。
　可用性の判断は生きているか死んでいるかでレイテンシは時間に対しての値
　エラーの測定方法としてはリクエストログをSyslogに流し込み時系列に入っていれば
　レイテンシの値でソートが可能になる。
　スループットの監視
　測定、収集、可用性、レイテンシのSLOと絡めたレビューが必要。
　秒単位でトランザクションを記録しておけば容易。
　費用対効果の監視
　コストが定量化できないのでかなり難しい。
　固定費に加えてサービスを運営する人件費、月ごとに代わるリソースの費用も把握する必要がある。